# Djnago


1、中间件

中间件一般做认证或批量请求处理，django中的中间件，其实是一个类，在请求和结束后，django会根据自己的规则在合适的时机执行中间件中相应的方法，
        如请求过来 执行process_request, view，process_response方法

2、Django、Tornado、Flask各自的优势

Django：Django无socket，django的目的是简便，快速开发，并遵循MVC设计，多个组件可以很方便的以“插件”形式服务于整个框架，
                django有许多功能强大的第三方插件。django具有很强的可扩展性。
Tornado：它是非阻塞式服务器，而且速度相当快，得力于其 非阻塞的方式和对epoll的运用，Future对象，缺点：没有session，需要自定制
Flask：是一个微型的web框架，配合SQLALchemy来使用，jinja2模板， werkzeug接口                  

3、 django版本，Python版本，linux版本

            django：1.11
    Python：3.5
    linux：6.8
4、django的template的注释是什么样子的

    单行：{#注释#}
    多行注释：{%comment%}

5、django怎么弄并发的

    nginx+uwsig为django提供高并发，nginx的并发能力超过，单台并发能力过完，在纯静态的web服务中更是突出其优越的地方，由于底层使用epoll异步IO模型进行处理。

6、tornodo的ioloop知道是什么吗？

事件循环
    
7、select_related和prefetch_related，Q和F

    select_related：一对多使用，查询主动做连表
    prefetch_related：多对多或者一对多的时候使用，不做连表，做多次查询
    Q：用于构造复杂查询条件
    F：更新时用于获取原来的值，专门取对象中某一列进行操作

8、什么是ORM？

ORM，即Object-Relational Mapping（对象关系映射），它的作用是在关系型数据库和业务实体对象之间做一个映射
ORM优缺点：
    优点：摆脱复杂的SQL操作，适应快速开发，让数据结果变得简单，数据库迁移成本更低
    缺点：性能较差，不适用于大型应用，复杂的SQL操作还需要通过SQL语句实现

9、CORS跨域资源共享

    首先会发送"预检"opption"，请求，如果"预检"成功，则发送真实数据。

10、Django的Form主要具有以下功能？

    生成HTMl标签，验证用户数据 is_vaild，HTML Form提交保留上次提交数据，初始化页面显示内容

11、CBV和FBV

    CBV在指定的类上面加上装饰器或在此方法上面添加装饰器 @method_decorator,并继承view

12、cookie及session

    cookie：是保留在客户端上面的一组键值对，cookie不是很安全，别人可以分析存放在本地的cookie
    session：是保存在服务器上面的一组键值对，依赖与cookie，安全指数比cookie高

13、django的请求生命周期

    请求来了先到uwsgi，把请求做一部分分装给django框架，然后经过所有的中间件，路由，视图，视图处理再返回给中间件，中间件在返回给uwsgi，在返回给用户。

14、uwsgi和wsgi

wsgi：是web服务器网关接口，是pyhton应用程序或框架和web服务器之间的一种接口，其广泛使用的是django框架。
uwsgi：是一个web服务器，它实现了wsgi协议，Nginx中HttpUwsgiModule的作用是与Uwsgi服务器进行交换

15、解释下django - debug -toolbar的使用

    使用django开发站点时，可以使用django-debug-toolbar来进行调试，在settings.py中添加 'debug—toolbar.midleware.Debug ToolbarMiddleware'到项目的MIDDLEWARE_CLASSES内。


    
三、Python部分
1、 __new__.__init__区别，如何实现单例模式，有什么优点

__new__是一个静态方法，__init__是一个实例方法
__new__返回一个创建的实例，__init__什么都不返回
__new__返回一个cls的实例时后面的__init__才能被调用
当创建一个新实例时调用__new__，初始化一个实例时调用__init__

2、深浅拷贝

浅拷贝只是增加了一个指针指向一个存在的地址，而深拷贝是增加一个指针并且开辟了新的内存，这个增加的指针指向这个新的内存，
采用浅拷贝的情况，释放内存，会释放同一内存，深拷贝就不会出现释放同一内存的错误

3、HTTP/IP相关协议，分别位于哪层

    http协议是超文本传输协议，http协议是基于TCP/IP通信协议来传递数据
    http协议工作与c/s架构上，浏览器作为http的客户端通过URL向http服务端即web服务器发送所用请求。web服务器收到所有请求后，向客户端发送响应信息，
    http特点是短连接，无状态
    
    地址栏键输入URL，按下回车之后经历了什么？
    1.浏览器向DNS服务器请求解析该URL中的域名所对应的IP地址
    2.解析出IP地址后，根据IP地址和默认端口80，和服务器建立TCP连接
    3.浏览器发出读取文件的http请求，该请求报文作为TCP三次握手的第三个报文的数据发送给服务器
    4.服务器对浏览器请求做出响应，并把对应的html文件发送给浏览器
    5.释放TCP连接
    6.浏览器将该HMTL渲染并显示内容

4、TCP/UDP区别

    TCP协议是面向连接，保证高可靠性（数据无丢失，数据无失序，数据无错误，数据无重复达到）传输层协议
    UDP：数据丢失，无秩序的传输层协议（qq基于udp协议）

5、webscoket

    websocket是基于http协议的，可持续化连接
    轮询：浏览器每隔几秒就发送一次请求，询问服务器是否有新消息
    长轮询：客户端发起连接后，如果没有消息，就一直不返回response给客户端，直到有消息返回，返回完之后，客户端再次发起连接

6、RabbitMQ:

    服务器端有Erlang语言来编写，支持多种客户端，只会ajax，用于分布式系统中存储转发消息，在易用性、扩展性、高可用性的方面不俗。
    connection是RabbitMQ的socket连接，它封装了socket部分相关协议逻辑
    connectionFactroy为connection的制造工厂
    channel是我们与RabbitMQ打交道的最重要的一个接口，大部分的业务操作是在chaanel这个接口中完成，包括定义Queue、定义Exchange、
    绑定Queue与Exchange,发布消息等

7、装饰器

    调用装饰器其实是一个闭包函数，为其他函数添加附加功能，不修改被修改的源代码和不修改被修饰的方式，装饰器的返回值也是一个函数对象。
    比如：插入日志、性能测试、事物处理、缓存、权限验证等，有了装饰器，就可以抽离出大量与函数功能本身无关的雷同代码并继续重用。

8、闭包

1.必须有一个内嵌函数
2.内嵌函数必须引用外部函数的变量（该函数包含对外作用域而不是全局作用域名字的引用）
3.外部函数的返回值必须是内嵌函数

9、迭代器与生成器

    迭代可迭代对象对应_iter_（方法）和迭代器对应_next_（方法）的一个过程
    生成器：包括含有yield这个关键字，生成器也是迭代器，调动next把函数变成迭代器。

10、classmethod，staticmethod，property

        类方法：将类的函数转换成类方法，函数上装饰@classmethod会将函数的自动传值参数改成cls
        静态方法：此方法相当于给类扩展一个功能，将类内的函数实例化，给类或对象使用，此时类内的函数就是普通函数，不管是类还是实例化的对象都可以使用
        实例化：类的实例化就会产生一个实例（对象），可以理解为类（）把虚拟的东西实例化，得到具体存在的值

11、常用的状态码           

    200--服务器成功返回网页
    204--请求收到,但返回信息为空
    304--客户端已经执行了GET,但文件未变化
    400--错误请求，如语法错误
    403--无权限访问
    404--请求的页面不存在
    500--服务器产生内部错误
‍
12、多进程，多线程，协程，GIL

    GIL:全局解释器锁，是锁在cpython解释器上，导致同一时刻，同一进程只能有一个线程被执行
    多进程：多进程模块multiprocessing来实现，cpu密集型，IO计算型可以用多进程
    多线程：多线程模块threading来实现，IO密集型，多线程可以提高效率
    协程：依赖于geenlet，对于多线程应用。cpu通过切片的方式来切换线程间的执行，遇到IO操作自动切换，线程切换时需要耗时，
                                而协成好处没有切换的消耗，没有锁定概念。
    进程：是资源管理单位，进行是相互独立的，实现并发和并发
    线程：是最小的执行单位，线程的出现为了降低上下文切换的消耗，提供系统的并发性

13、IO多路复用/异步非阻塞

        IO多路复用：通过一种机制，可以监听多个描述符 select/poll/epoll
        select：连接数受限，查找配对速度慢，数据由内核拷贝到用户态
        poll：改善了连接数，但是还是查找配对速度慢，数据由内核拷贝到用户态
        epoll：epoll是linux下多路复用IO接口，是select/poll的增强版，它能显著提高程序在大量并发连接中只有少量活跃的情况下的系统CPU利用率
    异步非阻塞：异步体现在回调上，回调就是有消息返回时告知一声儿进程进行处理。非阻塞就是不等待，不需要进程等待下去，
                            继续执行其他操作，不管其他进程的状态。

14、PEP8规范，规范的好处是什么？

    1.缩进：4个空实现缩进，尽量不使用Tab
    2.行：没行最大长度不超过79，换行可以使用反斜杠
    3.命名规范：
    4.注释规范：

15、range-and-xrange

    都在循环时使用，xrange内存性能更好，xrange用法与range完全相同，range一个生成list对象，xrange是生成器

16、with上下文机制原理

        _enter_和_exit_，上下文管理协议，即with语句，为了让一个对象兼容with语句，必须在这个对象类中声明_enter_和_exit_方法，
        使用with语句的目的就是把代码块放入with中执行，with结束后，自动完成清理工作，无须收到干预

17、经典类、新式类

    经典类遵循：深度优先，python2中
    新式类遵循：广度优先，Python3中

18、有没有一个工具可以帮助查找Python的bug和进行静态的代码分析？

        PyChecker是一个Python代码的静态分析工具，它可以帮助查找Python代码的bug，会对代码的复杂度和格式提出警告，
            Pylint是另外一个工具可以进行codingstandard检查  

19、 Python是如何进行内存管理的

        1.对象引用计数：
            引用计数增加的情况：
                    来保持追踪内存中的对象，所有对象都用引用计数，一个对象分配一个新名称
                    将其放入一个容器中（列表，字典，元祖）
                引用计数减少的情况：
                    使用del语句对对象别名显示的销毁
                    引用超出作用域或被重新赋值
                    sys.getrefcount()函数可以获得对象的当前引用计数
            2.标记-清除机制
            

            3.分代技术

20、什么是python？使用python有什么好处？

        python是一种编程语言，它有对象、模块、线程、异常处理和自动内存管理。它简洁，简单、方便、容易扩展、有许多自带的数据结果，而且它开源

21、什么是pickling和unpickling？

        Pickle模块读入任何python对象，将它们转换成字符串，然后使用dump函数将其转储到一个文件中——这个过程叫做pickling
        反之从存储的字符串文件中提取原始python对象的过程，叫做unpickling

22、python是如何被解释的？

        Python是一种解释性语言，它的源代码可以直接运行，Python解释器会将源代码转换成中间语言，之后再翻译成机器码再执行

23、数组和元祖之间的区别是什么？

        数组和元祖之间的区别：数组内容可以被修改，而元祖内容是只读的，不可被修改的，另外元祖可以被哈希，比如作为字典的key

24、参数按值传递和引用传递是怎么实现的？

        python中的一切都是类，所有的变量都是一个对象的引用。引用的值是由函数确定的，因此无法被改变，但是如果一个对象是可以被修改的，你可以改动对象

25、Python都有哪些自带的数据结构？

        Python自带的数据结构分为可变和不可变的：可变的有：数组、集合、字典，不可变的是：字符串、元祖、整数

26、什么是python的命名空间？

        在python中，所有的名字都存在于一个空间中，它们在改空间中存在和被操作——这就是命名空间，它就好像一个盒子，在每个变量名字都对应装着一个对象，
                当查询变量的时候，会从该盒子里面寻找相应的对象

27、python中的unittest是什么？

        在python中，unittest是python中的单元测试框架，它拥有支持共享搭建、自动测试、在测试中暂停代码、将不同测试迭代成一组

28、*args与**kwargs

        *args代表位置参数，它会接收任意多个参数并把这些参数作为元祖传递给函数。**kwargs代表的关键字参数，返回的是字典，位置参数一定要放在关键字前面

29、在Python中什么是slicing？

        slicing是一种在有序的对象类型中（数组、元祖、字符串）节选某一段的语法

30、中的docstring是什么？

    Python中文档字符串被称为docstring，它在Python中的作用是为函数、模块和类注释生成文档

31、os与sys区别：

        os是模块负责程序与操作系统的交互，提供了访问操作系统底层的接口
        sys模块是负责程序与python解释器的交互，提供了一系列的函数和变量，用于操控Python时运行的环境
32、实现一个单例模式

                _new_（）在 _init_（）之前被调用，用于生成实例对象。利用这个方法和类的属性的特点可以实现设计模式的单例模式。
        单例模式是指创建唯一对象，单例模式设计的类只能实例，实例化1个对象
        class Singleton(object):
            __instance=None
            def __init__(self):
                pass
            def __new__(cls, *args, **kwargs):
                if Singleton.__instance is None:
                    Singleton.__instance=object.__new__(cls,*args,**kwargs)
                return Singleton.__instance