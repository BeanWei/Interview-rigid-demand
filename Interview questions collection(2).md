# python语法以及其他基础部分

0).可变与不可变类型

可变类型：列表，字典
不可变类型：数字，字符串，元组

对不可变类型的变量重新赋值，实际上是重新创建一个不可变类型的对象，并将原来的变量重新指向新创建的对象（如果没有其他变量引用原有对象的话（即引用计数为0），原有对象就会被回收）

Note: 使用 python 内置函数 ` id ` id() 可以查看变量的内存地址进行验证，使用 `hex(id(i))` 可以查看16进制的内存地址。



1).浅拷贝与深拷贝的实现方式、区别；deepcopy如果你来设计，如何实现

基本概念：
python中的对象之间赋值时是按引用传递的，如果需要拷贝对象则需要使用标准库中的copy模块

1. copy.copy 浅拷贝 只拷贝父对象，不会拷贝对象的内部的子对象
2. copy.deepcopy 深拷贝 拷贝对象及其子对象
   
```
>>> import copy
>>> a = [1, 2, 3, ['a', 'b']]
>>> b = a
>>> c = copy.copy(a)
>>> d = copy.deepcopy(a)
>>> a.append(5)
>>> a[3].append('c')
>>> print(a)
[1, 2, 3, ['a', 'b', 'c'], 5]
>>> print(b)
[1, 2, 3, ['a', 'b', 'c'], 5]
>>> print(c)
[1, 2, 3, ['a', 'b', 'c']]
>>> print(d)
[1, 2, 3, ['a', 'b']]
>>> id(a)
31922456
>>> id(b)
31922456
>>> id(c)
31922296
>>> id(d)
31922336
```

***浅复制只复制一层对象的属性，而深复制则递归复制了所有层级***

Note: 深拷贝并非完完全全递归查找所有对象，因为一旦对象引用了自身，完全递归可能会导致无限循环。一个对象被拷贝了，python 会对该对象做个标记，如果还有其他需要拷贝的对象引用着该对象，它们的拷贝其实指向的是同一份拷贝



2).__new__() 与 __init__()的区别

异同点:
1. 参数
* __new__的第一个占位参数是class对象
* __init__的第一个占位参数是class的实例对象
* 其他的参数应一致
2. 作用
* __new__ 用来创建实例，在返回的实例上执行__init__，如果不返回实例那么__init__将不会执行
* __init__ 用来初始化实例，设置属性什么的

可以这么描述__new__()和__ini__()的区别，在新式类中__new__()才是真正的实例化方法，为类提供外壳制造出实例框架，然后调用该框架内的构造方法__init__()使其丰满。

**如果以建房子做比喻，__new__()方法负责开发地皮，打下地基，并将原料存放在工地。而__init__()方法负责从工地取材料建造出地皮开发招标书中规定的大楼，__init__()负责大楼的细节设计，建造，装修使其可交付给客户。**

Note: 
* 在类中，如果该类具有__new__方法，会先调用__new__方法
* __new__方法会返回所构造的对象，__init__则不会。__init__无返回值。
* 如果__new__返回一个对象的实例，会隐式调用__init__
* 如果__new__不返回一个对象的实例，__init__不会被调用
  
### 注意：
Python 2.x中默认都是经典类，只有显式继承了object才是新式类

而Python 3.x中默认都是新式类（也即object类默认是所有类的祖先），不必显式的继承object（可以按照经典类的定义方式写一个经典类并分别在python2.x和3.x版本中使用dir函数检验下。



3).你知道几种设计模式

>设计模式的定义:为了解决面向对象系统中重要和重复的设计封装在一起的一种代码实现框架,可以使得代码更加易于扩展和调用

[python设计模式](https://github.com/BeanWei/Interview-rigid-demand/blob/master/You%20must%20know/python%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.md)




4).编码和解码你了解过么

字符串在Python内部的表示是unicode编码，因此，在做编码转换时，通常需要以unicode作为中间编码，即先将其他编码的字符串解码（decode）成unicode，再从unicode编码（encode）成另一种编码。

encode与decode
decode的作用是将其他编码的字符串转换成unicode编码，如str1.decode(‘utf-8’)，表示将utf-8编码的字符串转换成unicode编码。

encode的作用是将unicode编码转换成其他编码的字符串，如str2.encode(‘utf-8’)，表示将unicode编码的字符串转换成utf-8编码。



5).列表推导list comprehension和生成器的优劣

* 列表推导式是将所有的值一次性加载到内存中
* 生成器是将列表推导式的[]改成(),不会将所有的值一次性加载到内存中,延迟计算,一次返回一个结果,它不会一次生成所有的结果,这对大数据量处理,非常有用
* 列表推导式可以遍历任意次, 生成器只能遍历一次
  

6).什么是装饰器；如果想在函数之后进行装饰，应该怎么做

1. [python装饰器](https://github.com/BeanWei/Interview-rigid-demand/blob/master/You%20must%20know/python%E8%A3%85%E9%A5%B0%E5%99%A8.md)

2. 将装饰代码部分放置 func() 后面即可实现



7).手写个使用装饰器实现的单例模式

[python单例模式](https://github.com/BeanWei/Interview-rigid-demand/blob/master/You%20must%20know/python%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F.md)



8).使用装饰器的单例和使用其他方法的单例，在后续使用中，有何区别

9).手写：正则邮箱地址

10).介绍下垃圾回收：引用计数/分代回收/孤立引用环

11).多进程与多线程的区别,CPU密集型适合用什么

12).进程通信的方式有几种

13).介绍下协程，为何比线程还快

14).range和xrange的区别
```
#coding:utf-8

import time
from functools import wraps

def duration(f):
    @wraps(f)
    def wrapper():
        s_time = time.time()
        f()
        e_time = time.time()
        print(u'用时：%d s' % (e_time - s_time))
    return wrapper

@duration
def testrange():
    for num in range(1000000):
        print(num)


if __name__ == '__main__':
    testrange()
```
windows环境下运行上面这段代码：py3需要70s, py2需要135s.

range()返回一个递增或递减的数字列表,列表的元素值由三个参数决定
start表示列表开始的值,默认为“0”。
stop 表示列表结束的值,该参数不可缺少
参数step表示步长,默认值为“1”。
range()返回的是一个递增或递减的数字列表。

xrange 是一个类,返回的是一个xrange对象。使用xrange()进行遍历,每次遍历只返回一个值。range()返回的是一个列表,一次性计算并返回所有的值。因此,xrange()的执行效率要高于range()

python3中的range就是python2中的xrange。



# 算法排序部分

1).手写快排；堆排；几种常用排序的算法复杂度是多少；快排平均复杂度多少，最坏情况如何优化

2).手写：已知一个长度n的无序列表，元素均是数字，要求把所有间隔为d的组合找出来，你写的解法算法复杂度多少

3).手写：一个列表A=[A1，A2，…,An]，要求把列表中所有的组合情况打印出来；

4).手写：用一行python写出1+2+3+…+10**8

5).手写python：用递归的方式判断字符串是否为回文

6).单向链表长度未知，如何判断其中是否有环

7).单向链表如何使用快速排序算法进行排序

8).手写：一个长度n的无序数字元素列表，如何求中位数，如何尽快的估算中位数，9).你的算法复杂度是多少；

10).如何遍历一个内部未知的文件夹（两种树的优先遍历方式）



# 网络基础部分

1).TCP/IP分别在模型的哪一层

2).socket长连接是什么意思

3).select和epoll你了解么，区别在哪

4).TCP UDP区别；三次握手四次挥手讲一下

5).TIME_WAIT过多是因为什么

6).http一次连接的全过程：你来说下从用户发起request——到用户接收到response

7).http连接方式。get和post的区别，你还了解其他的方式么

8).restful你知道么

9).状态码你知道多少，比如200/403/404/504等等



# 数据库部分

1).MySQL锁有几种；死锁是怎么产生的； 为何，以及如何分区、分表；

2).MySQL的char varchar text的区别:

了解join么,有几种有何区别，A LEFT JOIN B，查询的结果中，B没有的那部分是如何显示的(NULL)

3).索引类型有几种，BTree索引和hash索引的区别（我没答上来这俩在磁盘结构上的区别）

4).手写：如何对查询命令进行优化

5).NoSQL了解么，和关系数据库的区别,redis有几种常用存储类型



# Linux部分

讲一下你常用的Linux/git命令和作用；

查看当前进程是用什么命令，除了文件相关的操作外，你平时还有什么操作命令；




# Django项目部分

都是让简单的介绍下你在公司的项目，不管是不是后端相关的，主要是要体现出你干了什么

1).你在项目中遇到最难的部分是什么，你是怎么解决的； 你看过django的admin源码么

2).看过flask的源码么,你如何理解开源

3).MVC / MTV, 缓存怎么用, 中间件是干嘛的

4).CSRF是什么，django是如何避免的,XSS

5).如果你来设计login，简单的说一下思路

6).session和cookie的联系与区别,session为什么说是安全的

7).uWSGI和Nginx的作用；